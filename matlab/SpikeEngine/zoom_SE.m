function zoom_SE

% k = waitforbuttonpress;
% while k == waitforbuttonpress;
% point1 = get(gca,'CurrentPoint');    % button down detected
% finalRect = rbbox;                   % return figure units
% point2 = get(gca,'CurrentPoint');    % button up detected
% point1 = point1(1,1:2);              % extract x and y
% point2 = point2(1,1:2);
% p1 = min(point1,point2);             % calculate locations
% offset = abs(point1-point2);         % and dimensions
% x = [p1(1) p1(1)+offset(1) p1(1)+offset(1) p1(1) p1(1)]
% y = [p1(2) p1(2) p1(2)+offset(2) p1(2)+offset(2) p1(2)]
% hold on
% axis manual
% plot(x,y,'r','linewidth',5)          % draw box around selected region
% set(gca,'xlim',[x(1) x(2)],'ylim',[y(1) y(3)])
% end
 
load zoom_SE_icons

% but_mousezoom = uicontrol('Style', 'pushbutton', 'Position', [10 106 33 30],'cdata',bmp.mousezoom,'CallBack',...
%     ['zoom']);
% assignin('base','but_mousezoom',but_mousezoom)
but_mousezoom = uicontrol('Style', 'pushbutton', 'Position', [10 106 33 30],'cdata',bmp.mousezoom,'CallBack',...
['if exist(red_rect) == 1,'...
 'a;,'...
 'delete(red_rect);,'...
 'k = waitforbuttonpress;,'...
 'while k == waitforbuttonpress,'...
 'point1 = get(gca,''CurrentPoint'');,'...   
 'finalRect = rbbox;,'...                   
 'point2 = get(gca,''CurrentPoint'');,'...    
 'point1 = point1(1,1:2);,'...              
 'point2 = point2(1,1:2);,'...
 'p1 = min(point1,point2);,'...             
 'offset = abs(point1-point2);,'...         
 'x = [p1(1) p1(1)+offset(1) p1(1)+offset(1) p1(1) p1(1)];,'...
 'y = [p1(2) p1(2) p1(2)+offset(2) p1(2)+offset(2) p1(2)];,'...
 'hold on;,'...
 'set(gca,''xlim'',[x(1) x(2)],''ylim'',[y(1) y(3)]);,'...
 'subplot(12,10,[111:117]);'...
 'red_rect = plot(x,y,''r'',''linewidth'',2);,'...  
 'subplot(10,10,[1:7,11:17,21:27,31:37,41:47,51:57,61:67,71:77,81:87]); end,'...
 'else,'...
 'k = waitforbuttonpress;,'...
 'while k == waitforbuttonpress,'...
 'point1 = get(gca,''CurrentPoint'');,'...   
 'finalRect = rbbox;,'...                   
 'point2 = get(gca,''CurrentPoint'');,'...    
 'point1 = point1(1,1:2);,'...              
 'point2 = point2(1,1:2);,'...
 'p1 = min(point1,point2);,'...             
 'offset = abs(point1-point2);,'...         
 'x = [p1(1) p1(1)+offset(1) p1(1)+offset(1) p1(1) p1(1)];,'...
 'y = [p1(2) p1(2) p1(2)+offset(2) p1(2)+offset(2) p1(2)];,'...
 'hold on;,'...
 'set(gca,''xlim'',[x(1) x(2)],''ylim'',[y(1) y(3)]);,'...
 'subplot(12,10,[111:117]);'...
 'red_rect = plot(x,y,''r'',''linewidth'',2);,'...  
 'subplot(10,10,[1:7,11:17,21:27,31:37,41:47,51:57,61:67,71:77,81:87]); end,'...
 'end']);

% 'if exist(red_rect) == 1,'...
%  'delete(red_rect);,'...
%  'else,'...

but_fullview = uicontrol('Style', 'pushbutton', 'Position', [10 76 33 30],'cdata',bmp.fullview,'CallBack',['delete(red_rect); axis auto']);

but_zoominx = uicontrol('Style', 'pushbutton', 'Position', [42 106 33 30],'cdata',bmp.zoominx,'CallBack',...
    ['x_lim = get(gca,''xlim'');  set(gca,''xlim'',[x_lim(1)+.25*x_lim(1) x_lim(2)-.25*x_lim(2)]);,'...
     'x_lim = get(gca,''xlim''); y_lim = get(gca,''ylim'');,'...
     'x = [x_lim(1) x_lim(2) x_lim(2) x_lim(1) x_lim(1)]; y = [y_lim(2) y_lim(2) y_lim(1) y_lim(1) y_lim(2)];,'...
     'delete(red_rect);,'...    
     'subplot(12,10,[111:117]);,'...
     'red_rect = plot(x,y,''r'',''linewidth'',2);,'...  
     'subplot(10,10,[1:7,11:17,21:27,31:37,41:47,51:57,61:67,71:77,81:87])']);  
 

but_zoomoutx = uicontrol('Style', 'pushbutton', 'Position', [42 76 33 30],'cdata',bmp.zoomoutx,'CallBack',...
    ['x_lim = get(gca,''xlim'');  set(gca,''xlim'',[x_lim(1)-.25*x_lim(1) x_lim(2)+.25*x_lim(2)]);,'...
     'x_lim = get(gca,''xlim''); y_lim = get(gca,''ylim'');,'...
     'x = [x_lim(1) x_lim(2) x_lim(2) x_lim(1) x_lim(1)]; y = [y_lim(2) y_lim(2) y_lim(1) y_lim(1) y_lim(2)];,'...
     'delete(red_rect);,'...    
     'subplot(12,10,[111:117]);,'...
     'red_rect = plot(x,y,''r'',''linewidth'',2);,'...  
     'subplot(10,10,[1:7,11:17,21:27,31:37,41:47,51:57,61:67,71:77,81:87])']);  
     
    
    
    
but_zoominy = uicontrol('Style', 'pushbutton', 'Position', [74 106 33 30],'cdata',bmp.zoominy,'CallBack',...
    ['y_lim = get(gca,''ylim''); set(gca,''ylim'',[y_lim(1)+.25*abs(y_lim(1)) y_lim(2)-.25*abs(y_lim(2))]);,'...
     'x_lim = get(gca,''xlim''); y_lim = get(gca,''ylim'');,'...
     'x = [x_lim(1) x_lim(2) x_lim(2) x_lim(1) x_lim(1)]; y = [y_lim(2) y_lim(2) y_lim(1) y_lim(1) y_lim(2)];,'...
     'delete(red_rect);,'...    
     'subplot(12,10,[111:117]);,'...
     'red_rect = plot(x,y,''r'',''linewidth'',2);,'...  
     'subplot(10,10,[1:7,11:17,21:27,31:37,41:47,51:57,61:67,71:77,81:87])']);      
    

but_zoomouty = uicontrol('Style', 'pushbutton', 'Position', [74 76 33 30],'cdata',bmp.zoomouty,'CallBack',...
    ['y_lim = get(gca,''ylim'');  set(gca,''ylim'',[y_lim(1)-.25*abs(y_lim(1)) y_lim(2)+.25*abs(y_lim(2))]);,'...
     'x_lim = get(gca,''xlim''); y_lim = get(gca,''ylim'');,'...
     'x = [x_lim(1) x_lim(2) x_lim(2) x_lim(1) x_lim(1)]; y = [y_lim(2) y_lim(2) y_lim(1) y_lim(1) y_lim(2)];,'...
     'delete(red_rect);,'...    
     'subplot(12,10,[111:117]);,'...
     'red_rect = plot(x,y,''r'',''linewidth'',2);,'...  
     'subplot(10,10,[1:7,11:17,21:27,31:37,41:47,51:57,61:67,71:77,81:87])']);      
    
    

